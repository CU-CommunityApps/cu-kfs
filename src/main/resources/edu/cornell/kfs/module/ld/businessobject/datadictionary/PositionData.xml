<?xml version="1.0" encoding="UTF-8"?>
<!--

    The Kuali Financial System, a comprehensive financial management system for higher education.

    Copyright 2005-2022 Kuali, Inc.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
   
  <bean id="PositionData" parent="PositionData-parentBean">
    <property name="attributes">
      <list merge="true">
        <ref bean="PositionData-extension-orgCode"/>
        <ref bean="PositionData-extension-inactivationDate"/>
      </list>
    </property>
  </bean>  
    
  <bean id="PositionData-extension-orgCode" parent="PositionData-extension-orgCode-parentBean"/>
  <bean id="PositionData-extension-orgCode-parentBean" abstract="true" parent="PositionData-departmentId">
    <property name="name" value="extension.orgCode"/>
    <property name="label" value="Org Code"/>
    <property name="shortLabel" value="OrgCode"/>
    <property name="required" value="false"/>
     <property name="maxLength" value="10"/>
    <property name="validationPattern">
      <ref bean="AnyCharacterValidation" />
    </property>
    <property name="control">
      <ref bean="StandardShortNameTextControl" />
    </property>
  </bean>
  
  <bean id="PositionData-extension-inactivationDate" parent="PositionData-extension-inactivationDate-parentBean"/>
  <bean id="PositionData-extension-inactivationDate-parentBean" abstract="true" parent="AttributeDefinition"
        p:name="extension.inactivationDate" p:forceUppercase="true" p:label="Inactivation Date" p:shortLabel="Date" p:maxLength="7"
        p:validationPattern-ref="DateValidation" p:type="DATE_RANGE">
      <property name="control">
          <bean parent="TextControlDefinition" p:datePicker="true" />
      </property>
  </bean>

    <!-- Business Object Inquiry Definition -->
    <bean id="PositionData-inquiryDefinition-override" parent="DataDictionaryBeanOverride">
        <property name="beanName" value="PositionData-inquiryDefinition" />
        <property name="fieldOverrides">
            <list>
                <!-- Bean override for new standalone page field presentation -->
                <bean parent="FieldOverrideForListElementInsert"
                    p:propertyName="sections[0].fields"
                    p:propertyNameForElementCompare="name"
                    p:element-ref="PositionData-departmentId"
                    p:insertAfter-ref="PositionData-extension-orgCode"/>

                <bean parent="FieldOverrideForListElementInsert"
                    p:propertyName="sections[0].fields"
                    p:propertyNameForElementCompare="name"
                    p:insertAfter-ref="PositionData-extension-inactivationDate"/>

                <!-- Bean override for legacy modal style presentation -->
                <bean parent="FieldOverrideForListElementInsert">
                    <property name="propertyName" value="inquirySections[0].inquiryFields" />
                    <property name="propertyNameForElementCompare" value="attributeName" />
                    <property name="element">
                        <bean parent="FieldDefinition" p:attributeName="departmentId"/>
                    </property>
                    <property name="insertAfter">
                        <list>
                            <bean parent="FieldDefinition" p:attributeName="extension.orgCode"/>
                        </list>
                    </property>
                </bean>
                <bean parent="FieldOverrideForListElementInsert">
                    <property name="propertyName" value="inquirySections[0].inquiryFields" />
                    <property name="propertyNameForElementCompare" value="attributeName" />
                    <property name="insertAfter">
                        <list>
                            <bean parent="FieldDefinition" p:attributeName="extension.inactivationDate"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

<!-- Business Object Lookup Definition -->

   <bean parent="DataDictionaryBeanOverride">
       <property name="beanName" value="PositionData-lookupDefinition" />
       <property name="fieldOverrides">
           <list>
               <bean parent="FieldOverrideForListElementInsert">
                   <property name="propertyName" value="formAttributeDefinitions" />
                   <property name="propertyNameForElementCompare" value="name" />
                   <property name="element">
                       <bean class="org.kuali.kfs.datadictionary.legacy.model.FormAttributeDefinition"
                               parent="PositionData-departmentId"/>
                   </property>
                   <property name="insertAfter">
                       <list>
                           <bean class="org.kuali.kfs.datadictionary.legacy.model.FormAttributeDefinition"
                                   parent="PositionData-extension-orgCode"/>
                       </list>
                   </property>
               </bean>
               <bean parent="FieldOverrideForListElementInsert">
                   <property name="propertyName" value="formAttributeDefinitions" />
                   <property name="propertyNameForElementCompare" value="name" />
                   <property name="element">
                       <bean class="org.kuali.kfs.datadictionary.legacy.model.FormAttributeDefinition"
                               parent="PositionData-effectiveDate"/>
                   </property>
                   <property name="insertAfter">
                       <list>
                           <bean class="org.kuali.kfs.datadictionary.legacy.model.FormAttributeDefinition"
                                   parent="PositionData-extension-inactivationDate"/>
                       </list>
                   </property>
               </bean>
               <bean parent="FieldOverrideForListElementInsert">
                   <property name="propertyName" value="displayAttributeDefinitions" />
                   <property name="propertyNameForElementCompare" value="name" />
                   <property name="element">
                       <bean class="org.kuali.kfs.datadictionary.legacy.model.DisplayAttributeDefinition"
                               parent="PositionData-departmentId"/>
                   </property>
                   <property name="insertAfter">
                       <list>
                           <bean class="org.kuali.kfs.datadictionary.legacy.model.DisplayAttributeDefinition"
                                   parent="PositionData-extension-orgCode"/>
                       </list>
                   </property>
               </bean>
               <bean parent="FieldOverrideForListElementInsert">
                   <property name="propertyName" value="displayAttributeDefinitions" />
                   <property name="propertyNameForElementCompare" value="name" />
                   <property name="element">
                       <bean class="org.kuali.kfs.datadictionary.legacy.model.DisplayAttributeDefinition"
                               parent="PositionData-effectiveDate"/>
                   </property>
                   <property name="insertAfter">
                       <list>
                           <bean class="org.kuali.kfs.datadictionary.legacy.model.DisplayAttributeDefinition"
                                   parent="PositionData-extension-inactivationDate"/>
                       </list>
                   </property>
               </bean>
           </list>
       </property>
   </bean>
    
</beans>