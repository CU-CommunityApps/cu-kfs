<?xml version="1.0" encoding="UTF-8"?>
<!--

    The Kuali Financial System, a comprehensive financial management system for higher education.

    Copyright 2005-2021 Kuali, Inc.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

    <bean id="AssetRetirementGlobalMaintenanceDocument" parent="AssetRetirementGlobalMaintenanceDocument-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-parentBean" abstract="true" parent="MaintenanceDocumentEntry"
          p:businessObjectClass="org.kuali.kfs.module.cam.businessobject.AssetRetirementGlobal"
          p:maintainableClass="org.kuali.kfs.module.cam.document.AssetRetirementGlobalMaintainableImpl"
          p:documentTypeName="ARG"
          p:businessRulesClass="org.kuali.kfs.module.cam.document.validation.impl.AssetRetirementGlobalRule"
          p:documentAuthorizerClass="edu.cornell.kfs.module.cam.document.authorization.AssetRetirementGlobalAuthorizer"
          p:documentPresentationControllerClass="org.kuali.kfs.module.cam.document.authorization.AssetRetirementPresentationController"
          p:workflowAttributes-ref="AssetRetirementGlobalMaintenanceDocument-workflowAttributes"
          p:additionalSectionsFile="/jsp/module/cams/AssetMaintenanceGlpe.jsp">
        <property name="maintainableSections">
            <list>
                <ref bean="AssetRetirementGlobalMaintenanceDocument-AccountingPeriod"/>
                <ref bean="AssetRetirementGlobalMaintenanceDocument-RetirementTargetAssetInformation"/>
                <ref bean="AssetRetirementGlobalMaintenanceDocument-RetirementInformation"/>
                <ref bean="AssetRetirementGlobalMaintenanceDocument-ExternalTransferorGift"/>
                <ref bean="AssetRetirementGlobalMaintenanceDocument-Theft"/>
                <ref bean="AssetRetirementGlobalMaintenanceDocument-AuctionorSold"/>
                <ref bean="AssetRetirementGlobalMaintenanceDocument-AssetDetailInformation"/>
            </list>
        </property>
        <property name="defaultExistenceChecks">
            <list>
                <bean parent="ReferenceDefinition" p:attributeName="asset" p:collection="assetRetirementGlobalDetails"
                      p:attributeToHighlightOnFail="capitalAssetNumber"/>
                <bean parent="ReferenceDefinition" p:attributeName="postalZipCode"
                      p:attributeToHighlightOnFail="retirementZipCode"/>
            </list>
        </property>
        <property name="lockingKeys">
            <list>
                <value>documentNumber</value>
            </list>
        </property>
        <property name="webScriptFiles">
            <list>
                <value>dwr/interface/AssetRetirementService.js</value>
                <value>scripts/module/cams/assetRetirementGlobalMaintenanceDocument.js</value>
                <value>dwr/interface/AccountService.js</value>
                <value>scripts/coa/accountDocument.js</value>
            </list>
        </property>
    </bean>

    <!-- Maintenance Section Definitions -->
    <bean id="AssetRetirementGlobalMaintenanceDocument-AccountingPeriod"
          parent="AssetGlobalMaintenanceDocument-AccountingPeriod-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-AccountingPeriod-parentBean" abstract="true"
          parent="MaintainableSectionDefinition" p:id="Accounting Period" p:title="Accounting Period">
        <property name="maintainableItems">
            <list>
                <bean parent="MaintainableFieldDefinition" p:name="accountingPeriodCompositeString"
                      p:required="false"/>
            </list>
        </property>
    </bean>


    <bean id="AssetRetirementGlobalMaintenanceDocument-RetirementTargetAssetInformation"
          parent="AssetRetirementGlobalMaintenanceDocument-RetirementTargetAssetInformation-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-RetirementTargetAssetInformation-parentBean" abstract="true"
          parent="MaintainableSectionDefinition" p:id="Retirement Target Information"
          p:title="Target Asset Information">
        <property name="maintainableItems">
            <list>
                <bean parent="MaintainableSubSectionHeaderDefinition" p:name="Target Asset"/>
                <bean parent="MaintainableFieldDefinition" p:name="mergedTargetCapitalAssetNumber"/>
                <bean parent="MaintainableFieldDefinition" p:name="mergedTargetCapitalAssetDescription"
                      p:unconditionallyReadOnly="false" p:required="false"/>
                <bean parent="MaintainableFieldDefinition"
                      p:name="mergedTargetCapitalAsset.organizationOwnerAccount.organizationCode"
                      p:unconditionallyReadOnly="true" p:template="organizationOwnerAccount.organizationCode"/>
                <bean parent="MaintainableFieldDefinition" p:name="mergedTargetCapitalAsset.capitalAssetTypeCode"
                      p:unconditionallyReadOnly="true" p:template="capitalAssetTypeCode"/>
                <bean parent="MaintainableFieldDefinition" p:name="mergedTargetCapitalAsset.createDate"
                      p:unconditionallyReadOnly="true"/>
                <bean parent="MaintainableFieldDefinition" p:name="mergedTargetCapitalAsset.capitalAssetInServiceDate"
                      p:unconditionallyReadOnly="true" p:template="capitalAssetInServiceDate"/>
                <bean parent="MaintainableFieldDefinition"
                      p:name="mergedTargetCapitalAsset.capitalAssetType.depreciableLifeLimit"
                      p:unconditionallyReadOnly="true"/>
            </list>
        </property>
    </bean>

    <bean id="AssetRetirementGlobalMaintenanceDocument-RetirementInformation"
          parent="AssetRetirementGlobalMaintenanceDocument-RetirementInformation-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-RetirementInformation-parentBean" abstract="true"
          parent="MaintainableSectionDefinition" p:id="Retirement Information" p:title="Retirement Information">
        <property name="maintainableItems">
            <list>
                <bean parent="MaintainableSubSectionHeaderDefinition" p:name="Retirement Reason"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementReasonCode"
                      p:unconditionallyReadOnly="true"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementDate" p:unconditionallyReadOnly="true"/>
            </list>
        </property>
    </bean>

    <bean id="AssetRetirementGlobalMaintenanceDocument-ExternalTransferorGift"
          parent="AssetRetirementGlobalMaintenanceDocument-ExternalTransferorGift-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-ExternalTransferorGift-parentBean" abstract="true"
          parent="MaintainableSectionDefinition" p:id="ExternalTransferOrGift" p:title="External Transfer or Gift">
        <property name="maintainableItems">
            <list>
                <bean parent="MaintainableFieldDefinition" p:name="retirementContactName"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementInstitutionName"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementStreetAddress"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementCityName"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementStateCode"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementZipCode"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementCountryCode"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementPhoneNumber"/>
            </list>
        </property>
    </bean>

    <bean id="AssetRetirementGlobalMaintenanceDocument-Theft"
          parent="AssetRetirementGlobalMaintenanceDocument-Theft-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-Theft-parentBean" abstract="true"
          parent="MaintainableSectionDefinition" p:id="Theft" p:title="Theft">
        <property name="maintainableItems">
            <list>
                <bean parent="MaintainableFieldDefinition" p:name="paidCaseNumber"/>
            </list>
        </property>
    </bean>

    <bean id="AssetRetirementGlobalMaintenanceDocument-AuctionorSold"
          parent="AssetRetirementGlobalMaintenanceDocument-AuctionorSold-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-AuctionorSold-parentBean" abstract="true"
          parent="MaintainableSectionDefinition" p:id="AuctionOrSold" p:title="Auction or Sold">
        <property name="maintainableItems">
            <list>
                <bean parent="MaintainableFieldDefinition" p:name="buyerDescription"/>
                <bean parent="MaintainableFieldDefinition" p:name="salePrice"
                      p:webUILeaveFieldFunction="onblur_generateCalculatedTotal"
                      p:webUILeaveFieldCallbackFunction="generateCalculatedTotal_Callback"/>
                <bean parent="MaintainableFieldDefinition" p:name="handlingFeeAmount"
                      p:webUILeaveFieldFunction="onblur_generateCalculatedTotal"
                      p:webUILeaveFieldCallbackFunction="generateCalculatedTotal_Callback"/>
                <bean parent="MaintainableFieldDefinition" p:name="preventiveMaintenanceAmount"
                      p:webUILeaveFieldFunction="onblur_generateCalculatedTotal"
                      p:webUILeaveFieldCallbackFunction="generateCalculatedTotal_Callback"/>
                <bean parent="MaintainableFieldDefinition" p:name="calculatedTotal" p:unconditionallyReadOnly="true"/>
                <bean parent="MaintainableFieldDefinition" p:name="cashReceiptFinancialDocumentNumber"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementChartOfAccountsCode"/>
                <bean parent="MaintainableFieldDefinition" p:name="retirementAccountNumber"
                      p:webUILeaveFieldFunction="onblur_accountNumber">
                    <property name="webUILeaveFieldFunctionParameters">
                        <list>
                            <value>retirementChartOfAccountsCode</value>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="AssetRetirementGlobalMaintenanceDocument-AssetDetailInformation"
          parent="AssetRetirementGlobalMaintenanceDocument-AssetDetailInformation-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-AssetDetailInformation-parentBean" abstract="true"
          parent="MaintainableSectionDefinition" p:id="Asset Detail Information" p:title="Asset Detail Information">
        <property name="maintainableItems">
            <list>
                <bean parent="MaintainableCollectionDefinition" p:name="assetRetirementGlobalDetails"
                      p:businessObjectClass="org.kuali.kfs.module.cam.businessobject.AssetRetirementGlobalDetail"
                      p:sourceClassName="org.kuali.kfs.module.cam.businessobject.Asset"
                      p:summaryTitle="Asset Retired">
                    <property name="summaryFields">
                        <list>
                            <bean parent="MaintainableFieldDefinition" p:name="capitalAssetNumber"/>
                        </list>
                    </property>
                    <property name="duplicateIdentificationFields">
                        <list>
                            <bean parent="MaintainableFieldDefinition" p:name="capitalAssetNumber"/>
                        </list>
                    </property>
                    <property name="maintainableFields">
                        <list>
                            <bean parent="MaintainableFieldDefinition" p:name="capitalAssetNumber"
                                  p:readOnlyAfterAdd="true" p:template="capitalAssetNumber" p:required="true"/>
                            <bean parent="MaintainableFieldDefinition"
                                  p:name="asset.organizationOwnerChartOfAccountsCode" p:unconditionallyReadOnly="true"
                                  p:template="organizationOwnerChartOfAccountsCode"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.organizationOwnerAccountNumber"
                                  p:unconditionallyReadOnly="true" p:template="organizationOwnerAccountNumber"/>
                            <bean parent="MaintainableFieldDefinition"
                                  p:name="asset.organizationOwnerAccount.organizationCode"
                                  p:unconditionallyReadOnly="true"
                                  p:template="organizationOwnerAccount.organizationCode"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.acquisitionTypeCode"
                                  p:unconditionallyReadOnly="true" p:template="acquisitionTypeCode"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.inventoryStatusCode"
                                  p:unconditionallyReadOnly="true" p:template="inventoryStatusCode"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.conditionCode"
                                  p:unconditionallyReadOnly="true" p:template="conditionCode"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.capitalAssetDescription"
                                  p:unconditionallyReadOnly="true" p:template="capitalAssetDescription"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.capitalAssetTypeCode"
                                  p:unconditionallyReadOnly="true" p:template="capitalAssetTypeCode"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.vendorName"
                                  p:unconditionallyReadOnly="true" p:template="vendorName"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.manufacturerModelNumber"
                                  p:unconditionallyReadOnly="true" p:template="manufacturerModelNumber"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.serialNumber"
                                  p:unconditionallyReadOnly="true" p:template="serialNumber"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.campusTagNumber"
                                  p:unconditionallyReadOnly="true" p:template="campusTagNumber"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.governmentTagNumber"
                                  p:unconditionallyReadOnly="true" p:template="governmentTagNumber"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.lastInventoryDate"
                                  p:unconditionallyReadOnly="true" p:template="lastInventoryDate"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.createDate"
                                  p:unconditionallyReadOnly="true" p:template="createDate"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.capitalAssetInServiceDate"
                                  p:unconditionallyReadOnly="true" p:template="capitalAssetInServiceDate"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.depreciationDate"
                                  p:unconditionallyReadOnly="true" p:template="depreciationDate"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.totalCostAmount"
                                  p:unconditionallyReadOnly="true" p:template="totalCostAmount"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.accumulatedDepreciation"
                                  p:unconditionallyReadOnly="true" p:template="accumulatedDepreciation"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.bookValue"
                                  p:unconditionallyReadOnly="true" p:template="bookValue"/>
                            <bean parent="MaintainableFieldDefinition" p:name="asset.federalContribution"
                                  p:unconditionallyReadOnly="true" p:template="federalContribution"/>
                            <bean parent="MaintainableFieldDefinition" p:name="newCollectionRecord"/>
                            <bean parent="MaintainableFieldDefinition"
                                  p:name="asset.assetOrganization.organizationText" p:unconditionallyReadOnly="true"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="AssetRetirementGlobalMaintenanceDocument-workflowAttributes"
          parent="AssetRetirementGlobalMaintenanceDocument-workflowAttributes-parentBean"/>
    <bean id="AssetRetirementGlobalMaintenanceDocument-workflowAttributes-parentBean" abstract="true"
          parent="WorkflowAttributes">
        <property name="searchingTypeDefinitions">
            <list>
                <bean class="org.kuali.kfs.krad.datadictionary.SearchingTypeDefinition">
                    <property name="searchingAttribute">
                        <bean class="org.kuali.kfs.krad.datadictionary.SearchingAttribute"
                              p:businessObjectClassName="org.kuali.kfs.module.cam.businessobject.Asset"
                              p:attributeName="campusTagNumber"/>
                    </property>
                    <property name="documentValues">
                        <list>
                            <value>
                                newMaintainableObject.businessObject.assetRetirementGlobalDetails.asset.campusTagNumber
                            </value>
                            <value>newMaintainableObject.businessObject.mergedTargetCapitalAsset.campusTagNumber
                            </value>
                        </list>
                    </property>
                </bean>
                <bean class="org.kuali.kfs.krad.datadictionary.SearchingTypeDefinition">
                    <property name="searchingAttribute">
                        <bean class="org.kuali.kfs.krad.datadictionary.SearchingAttribute"
                              p:businessObjectClassName="org.kuali.kfs.module.cam.businessobject.Asset"
                              p:attributeName="organizationOwnerChartOfAccountsCode"/>
                    </property>
                    <property name="documentValues">
                        <list>
                            <value>
                                newMaintainableObject.businessObject.assetRetirementGlobalDetails.asset.organizationOwnerChartOfAccountsCode
                            </value>
                            <value>
                                newMaintainableObject.businessObject.mergedTargetCapitalAsset.organizationOwnerChartOfAccountsCode
                            </value>
                        </list>
                    </property>
                </bean>
                <bean class="org.kuali.kfs.krad.datadictionary.SearchingTypeDefinition">
                    <property name="searchingAttribute">
                        <bean class="org.kuali.kfs.krad.datadictionary.SearchingAttribute"
                              p:businessObjectClassName="org.kuali.kfs.coa.businessobject.Organization"
                              p:attributeName="organizationCode"/>
                    </property>
                    <property name="documentValues">
                        <list>
                            <value>
                                newMaintainableObject.businessObject.assetRetirementGlobalDetails.asset.organizationOwnerAccount.organizationCode
                            </value>
                            <value>
                                newMaintainableObject.businessObject.mergedTargetCapitalAsset.organizationOwnerAccount.organizationCode
                            </value>
                        </list>
                    </property>
                </bean>
                <bean class="org.kuali.kfs.krad.datadictionary.SearchingTypeDefinition">
                    <property name="searchingAttribute">
                        <bean class="org.kuali.kfs.krad.datadictionary.SearchingAttribute"
                              p:businessObjectClassName="org.kuali.kfs.module.cam.businessobject.Asset"
                              p:attributeName="organizationOwnerAccountNumber"/>
                    </property>
                    <property name="documentValues">
                        <list>
                            <value>
                                newMaintainableObject.businessObject.assetRetirementGlobalDetails.asset.organizationOwnerAccountNumber
                            </value>
                            <value>
                                newMaintainableObject.businessObject.mergedTargetCapitalAsset.organizationOwnerAccountNumber
                            </value>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
        <property name="routingTypeDefinitions">
            <map>
                <entry key="Account" value-ref="RoutingType-AssetRetirementGlobalMaintenanceDocument-Account"/>
                <entry key="ExternalTransfer"
                       value-ref="RoutingType-AssetRetirementGlobalMaintenanceDocument-ExternalTransfer"/>
                <entry key="OrganizationHierarchy"
                       value-ref="RoutingType-AssetRetirementGlobalMaintenanceDocument-OrganizationHierarchy"/>
                <entry key="Purchasing" value-ref="RoutingType-AssetRetirementGlobalMaintenanceDocument-Purchasing"/>
            </map>
        </property>
    </bean>

    <bean id="RoutingType-AssetRetirementGlobalMaintenanceDocument-Purchasing"
          class="org.kuali.kfs.krad.datadictionary.RoutingTypeDefinition">
        <property name="routingAttributes">
            <list>
                <ref bean="RoutingAttribute-campusCode"/>
            </list>
        </property>
        <property name="documentValuePathGroups">
            <list>
                <bean class="org.kuali.kfs.krad.datadictionary.DocumentValuePathGroup">
                    <property name="documentCollectionPath">
                        <bean class="org.kuali.kfs.krad.datadictionary.DocumentCollectionPath"
                              p:collectionPath="newMaintainableObject.businessObject.assetRetirementGlobalDetails">
                            <property name="documentValues">
                                <list>
                                    <value>asset.organizationOwnerAccount.accountPhysicalCampusCode</value>
                                </list>
                            </property>
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="RoutingType-AssetRetirementGlobalMaintenanceDocument-Account"
          class="org.kuali.kfs.krad.datadictionary.RoutingTypeDefinition">
        <property name="routingAttributes">
            <list>
                <ref bean="RoutingAttribute-chartOfAccountsCode"/>
                <ref bean="RoutingAttribute-accountNumber"/>
            </list>
        </property>
        <property name="documentValuePathGroups">
            <list>
                <ref bean="DocumentValuePathGroup-AssetRetirementGlobalMaintenanceDocument-AssetRetirmentGlobalDetails"/>
            </list>
        </property>
    </bean>

    <bean id="DocumentValuePathGroup-AssetRetirementGlobalMaintenanceDocument-AssetRetirmentGlobalDetails"
          class="org.kuali.kfs.krad.datadictionary.DocumentValuePathGroup">
        <property name="documentCollectionPath">
            <bean parent="DocumentCollectionPath-AssetDetail-chartAndAccountNumber"
                  p:collectionPath="newMaintainableObject.businessObject.assetRetirementGlobalDetails"/>
        </property>
    </bean>

    <bean id="RoutingType-AssetRetirementGlobalMaintenanceDocument-ExternalTransfer"
          class="org.kuali.kfs.krad.datadictionary.RoutingTypeDefinition">
        <property name="routingAttributes">
            <list>
                <ref bean="RoutingAttribute-chartOfAccountsCode"/>
                <ref bean="RoutingAttribute-accountNumber"/>
            </list>
        </property>
        <property name="documentValuePathGroups">
            <list>
                <ref bean="DocumentValuePathGroup-AssetRetirementGlobalMaintenanceDocument-AssetRetirmentGlobalDetails"/>
            </list>
        </property>
    </bean>

    <bean id="DocumentValuePathGroup-AssetRetirementGlobalMaintenanceDocument-OrganizationHierarchy-assetRetirementGlobalDetails"
          class="org.kuali.kfs.krad.datadictionary.DocumentValuePathGroup">
        <property name="documentCollectionPath">
            <bean parent="DocumentCollectionPath-AssetDetail-chartAndOrgCode"
                  p:collectionPath="newMaintainableObject.businessObject.assetRetirementGlobalDetails"/>
        </property>
    </bean>
    <bean id="RoutingType-AssetRetirementGlobalMaintenanceDocument-OrganizationHierarchy"
          class="org.kuali.kfs.krad.datadictionary.RoutingTypeDefinition">
        <property name="routingAttributes">
            <list>
                <ref bean="RoutingAttribute-Chart"/>
                <ref bean="RoutingAttribute-Organization"/>
            </list>
        </property>
        <property name="documentValuePathGroups">
            <list>
                <ref bean="DocumentValuePathGroup-AssetRetirementGlobalMaintenanceDocument-OrganizationHierarchy-assetRetirementGlobalDetails"/>
            </list>
        </property>
    </bean>
</beans>
