<descriptor-repository version="1.0">

    <!-- CU Customization: Include the FINP-6728 performance enhancement from the 2020-05-21 financials patch. -->

    <class-descriptor class="org.kuali.kfs.kim.impl.role.RoleBo" table="KRIM_ROLE_T">
        <field-descriptor name="id" column="ROLE_ID" jdbc-type="VARCHAR" primarykey="true" autoincrement="true" sequence-name="krim_role_id_s"/>
        <field-descriptor name="name" column="ROLE_NM" jdbc-type="VARCHAR"/>
        <field-descriptor name="description" column="DESC_TXT" jdbc-type="VARCHAR"/>
        <field-descriptor name="active" column="ACTV_IND" jdbc-type="VARCHAR" conversion="org.kuali.kfs.core.framework.persistence.ojb.conversion.OjbCharBooleanConversion"/>
        <field-descriptor name="kimTypeId" column="KIM_TYP_ID" jdbc-type="VARCHAR"/>
        <field-descriptor name="namespaceCode" column="NMSPC_CD" jdbc-type="VARCHAR"/>
        <field-descriptor name="versionNumber" column="VER_NBR" jdbc-type="BIGINT" locking="true"/>
        <field-descriptor name="objectId" column="OBJ_ID" jdbc-type="VARCHAR" indexed="true"/>
        <reference-descriptor name="kimType" class-ref="org.kuali.kfs.kim.impl.type.KimTypeBo" auto-retrieve="true"
                              auto-update="none" auto-delete="none">
            <foreignkey field-ref="kimTypeId" target-field-ref="id"/>
        </reference-descriptor>
        <collection-descriptor name="permissions" element-class-ref="org.kuali.kfs.kim.impl.role.RolePermissionBo" collection-class="org.apache.ojb.broker.util.collections.ManageableArrayList" auto-retrieve="true" auto-update="object"
                               auto-delete="object" proxy="false">
            <inverse-foreignkey field-ref="roleId" target-field-ref="id"/>
        </collection-descriptor>
        <collection-descriptor name="responsibilities" element-class-ref="org.kuali.kfs.kim.impl.role.RoleResponsibilityBo" collection-class="org.apache.ojb.broker.util.collections.ManageableArrayList" auto-retrieve="true" auto-update="object"
                               auto-delete="object" proxy="false">
            <inverse-foreignkey field-ref="roleId" target-field-ref="id"/>
        </collection-descriptor>
        <collection-descriptor name="members" element-class-ref="org.kuali.kfs.kim.impl.role.RoleMemberBo" collection-class="org.apache.ojb.broker.util.collections.ManageableArrayList" auto-retrieve="true" auto-update="object"
                               auto-delete="object" proxy="true">
            <inverse-foreignkey field-ref="roleId" target-field-ref="id"/>
        </collection-descriptor>
        <collection-descriptor name="delegations" element-class-ref="org.kuali.kfs.kim.impl.common.delegate.DelegateTypeBo" collection-class="org.apache.ojb.broker.util.collections.ManageableArrayList" auto-retrieve="true"
                               auto-update="object" auto-delete="object" proxy="false">
            <inverse-foreignkey field-ref="roleId" target-field-ref="id"/>
        </collection-descriptor>
    </class-descriptor>

    <class-descriptor class="org.kuali.kfs.kim.impl.role.RoleMemberBo" table="KRIM_ROLE_MBR_T">
        <field-descriptor name="id" column="ROLE_MBR_ID" jdbc-type="VARCHAR" primarykey="true" autoincrement="true" sequence-name="KRIM_ROLE_MBR_ID_S"/>
        <field-descriptor name="roleId" column="ROLE_ID" jdbc-type="VARCHAR"/>
        <field-descriptor name="memberId" column="MBR_ID" jdbc-type="VARCHAR"/>
        <field-descriptor name="typeCode" column="MBR_TYP_CD" jdbc-type="CHAR"/>
        <field-descriptor name="versionNumber" column="VER_NBR" jdbc-type="BIGINT" locking="true"/>
        <field-descriptor name="objectId" column="OBJ_ID" jdbc-type="VARCHAR" indexed="true"/>
        <field-descriptor name="activeFromDateValue" column="ACTV_FRM_DT" jdbc-type="TIMESTAMP"/>
        <field-descriptor name="activeToDateValue" column="ACTV_TO_DT" jdbc-type="TIMESTAMP"/>
        <reference-descriptor name="role" class-ref="org.kuali.kfs.kim.impl.role.RoleBo" auto-retrieve="true"
                              auto-update="none" auto-delete="none" proxy="true">
            <foreignkey field-ref="roleId" target-field-ref="id"/>
        </reference-descriptor>
        <collection-descriptor name="attributeDetails" element-class-ref="org.kuali.kfs.kim.impl.role.RoleMemberAttributeDataBo" collection-class="org.apache.ojb.broker.util.collections.ManageableArrayList" auto-retrieve="true"
                               auto-update="object" auto-delete="object" proxy="false">
            <inverse-foreignkey field-ref="assignedToId" target-field-ref="roleMemberId"/>
        </collection-descriptor>
        <collection-descriptor name="roleRspActions" element-class-ref="org.kuali.kfs.kim.impl.role.RoleResponsibilityActionBo" collection-class="org.apache.ojb.broker.util.collections.ManageableArrayList" auto-retrieve="true"
                               auto-update="object" auto-delete="object" proxy="false">
            <inverse-foreignkey field-ref="roleMemberId" target-field-ref="id"/>
        </collection-descriptor>
    </class-descriptor>

</descriptor-repository>