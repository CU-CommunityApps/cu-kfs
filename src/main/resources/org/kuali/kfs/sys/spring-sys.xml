<?xml version="1.0" encoding="UTF-8"?>
<!--

    The Kuali Financial System, a comprehensive financial management system for higher education.

    Copyright 2005-2021 Kuali, Inc.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<!--
    CU Customization: Backport FINP-7916 (aka FINP-7983?) changes into the 2021-01-28 version of this file.
    This overlay should be removed when we upgrade to the 2021-11-17 financials patch or later.
-->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:c="http://www.springframework.org/schema/c"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
               http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

    <import resource="classpath:/org/kuali/kfs/datadictionary/data-dictionary-beans.xml"/>

    <bean id="financialSystemModuleConfiguration" parent="financialSystemModuleConfiguration-parentBean"/>
    <bean id="financialSystemModuleConfiguration-parentBean"
          class="org.kuali.kfs.sys.FinancialSystemModuleConfiguration" abstract="true" p:namespaceCode="KFS-SYS"
          p:initializeDataDictionary="true"
          p:dataSourceName="dataSource"
          p:dataDictionaryService-ref="dataDictionaryService"
          p:persistenceService-ref="persistenceServiceOjb">
        <property name="packagePrefixes">
            <list>
                <value>org.kuali.kfs.coreservice</value>
                <value>org.kuali.kfs.coreservice.impl.namespace</value>
                <value>org.kuali.kfs.coreservice.impl.parameter</value>
                <value>org.kuali.kfs.coreservice.impl.component</value>
                <value>org.kuali.kfs.kns</value>
                <value>org.kuali.kfs.kns.document</value>
                <value>org.kuali.kfs.krad.bo</value>
                <value>org.kuali.kfs.krad.maintenance</value>
                <value>org.kuali.kfs.ksb</value>
                <value>org.kuali.kfs.sys</value>
                <value>org.kuali.kfs.sys.businessobject</value>
            </list>
        </property>
        <property name="dataDictionaryPackages">
            <list>
                <value>classpath:org/kuali/kfs/coreservice/web/parameter/ParameterMaintenanceDocument.xml</value>
                <value>classpath:org/kuali/kfs/kns/bo/datadictionary/DataDictionaryBaseTypes.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/AdHocRoutePerson.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/AdHocRouteWorkgroup.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/Attachment.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/AttributeReferenceDummy.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/AttributeReferenceElements.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/BusinessObjectAttributeEntry.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/DataDictionaryBaseTypes.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/DocumentHeader.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/Note.xml</value>
                <value>classpath:org/kuali/kfs/krad/bo/datadictionary/NoteType.xml</value>
                <value>classpath:org/kuali/kfs/sys/businessobject/datadictionary/*.xml</value>
                <value>classpath:org/kuali/kfs/sys/document/datadictionary/*.xml</value>
            </list>
        </property>
        <property name="databaseRepositoryFilePaths">
            <list>
                <value>org/kuali/kfs/krad/config/OJB-repository-krad.xml</value>
                <value>org/kuali/kfs/sys/ojb-sys.xml</value>
            </list>
        </property>
        <property name="scriptConfigurationFilePaths">
            <list>
                <value>org/kuali/kfs/sys/dwr-sys.xml</value>
            </list>
        </property>
        <property name="triggerNames">
            <list>
                <value>scheduleJobTrigger</value>
            </list>
        </property>
        <property name="jobNames">
            <list>
                <value>scheduleJob</value>
                <value>purgeJob</value>
                <value>fiscalYearMakerJob</value>
                <value>clearCacheJob</value>
                <value>purgeReportsAndStagingJob</value>
                <value>autoDisapproveJob</value>
                <value>dailyEmailJob</value>
                <value>weeklyEmailJob</value>
                <value>modulesLockJob</value>
                <value>modulesUnlockJob</value>
                <value>bulkReindexDocsJob</value>
            </list>
        </property>
        <property name="fiscalYearMakers">
            <list>
                <ref bean="systemOptionsFiscalYearMaker"/>
                <ref bean="universityDateFiscalYearMaker"/>
            </list>
        </property>
        <property name="batchFileDirectories">
            <list>
                <value>${reports.directory}/sys</value>
            </list>
        </property>
    </bean>

    <bean id="emailService" parent="emailService-parentBean"/>
    <bean id="emailService-parentBean" abstract="true" class="org.kuali.kfs.sys.service.impl.EmailServiceImpl"
          p:configurationService-ref="configurationService" p:parameterService-ref="parameterService"
          p:javaMailSender-ref="mailSender"/>

    <bean id="fileStorageService" parent="fileStorageService-parentBean"/>
    <bean id="fileStorageService-parentBean" class="org.kuali.kfs.sys.service.impl.FileSystemFileStorageServiceImpl"
          abstract="true" p:pathPrefix=""/>

    <bean id="financialSystemModuleService" parent="financialSystemModuleService-parentBean"/>
    <bean id="financialSystemModuleService-parentBean" class="org.kuali.kfs.sys.service.impl.KfsModuleServiceImpl"
          abstract="true" p:moduleConfiguration-ref="financialSystemModuleConfiguration"/>

    <bean id="KFSConstants" class="org.kuali.kfs.core.api.util.collect.ConstantsMap"
          p:constantClass="org.kuali.kfs.sys.KFSConstants"/>

    <bean id="KfsAuthorizationConstants" class="org.kuali.kfs.core.api.util.collect.ConstantsMap"
          p:constantClass="org.kuali.kfs.sys.KfsAuthorizationConstants"/>

    <bean class="org.springframework.web.context.support.ServletContextAttributeExporter">
        <property name="attributes">
            <map>
                <entry key="KFSConstants" value-ref="KFSConstants"/>
                <entry key="KfsAuthorizationConstants" value-ref="KfsAuthorizationConstants"/>
                <entry key="KSBConstants" value-ref="rice.ksb.Constants"/>
            </map>
        </property>
    </bean>

    <bean id="KFSDocumentSearchCustomizer" class="org.kuali.kfs.sys.document.workflow.KFSDocumentSearchCustomizer"/>
    <bean id="FinancialSystemSearchableAttribute"
          class="org.kuali.kfs.sys.document.workflow.KFSDocumentSearchCustomizer"/>
    <bean id="SensitiveDataSecurityAttribute"
          class="org.kuali.kfs.sys.document.workflow.SensitiveDataSecurityAttribute"/>

    <!-- begin batch framework -->
    <bean id="scheduler" parent="scheduler-parentBean"/>
    <bean id="scheduler-parentBean" class="org.kuali.kfs.sys.batch.SchedulerFactoryBean" abstract="true"
          p:useQuartzScheduling="${use.quartz.scheduling}" p:useJdbcJobstore="${use.quartz.jdbc.jobstore}"
          p:autoStartup="false">
        <property name="quartzPropertiesReference">
            <props>
                <prop key="org.quartz.scheduler.instanceId">AUTO</prop>
                <prop key="org.quartz.scheduler.instanceName">KFSScheduler</prop>
                <prop key="org.quartz.threadPool.threadCount">${batch.quartz.thread.pool.size}</prop>
                <prop key="org.quartz.scheduler.idleWaitTime">${batch.quartz.trigger.check.interval}</prop>
                <prop key="org.quartz.plugin.triggHistory.class">
                    org.quartz.plugins.history.LoggingTriggerHistoryPlugin
                </prop>
                <prop key="org.quartz.plugin.triggHistory.triggerFiredMessage">Trigger {1}.{0} fired job {6}.{5} at:
                    {4,
                    date, HH:mm:ss MM/dd/yyyy}
                </prop>
                <prop key="org.quartz.plugin.triggHistory.triggerCompleteMessage">Trigger {1}.{0} completed firing job
                    {6}.{5} at {4, date, HH:mm:ss MM/dd/yyyy} with resulting trigger instruction code: {9}
                </prop>
                <prop key="org.quartz.scheduler.skipUpdateCheck">true</prop>
            </props>
        </property>
    </bean>

    <bean id="schedulerService" parent="schedulerService-parentBean"/>
    <bean id="schedulerService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.batch.service.impl.SchedulerServiceImpl" p:scheduler-ref="scheduler"
          p:jobListener-ref="jobListener" p:kualiModuleService-ref="kualiModuleService"
          p:parameterService-ref="parameterService" p:dateTimeService-ref="dateTimeService"
          p:emailService-ref="emailService"/>

    <bean id="jobListener" parent="jobListener-parentBean"/>
    <bean id="jobListener-parentBean" class="org.kuali.kfs.sys.batch.JobListener" abstract="true"
          p:configurationService-ref="configurationService" p:emailService-ref="emailService"
          p:dateTimeService-ref="dateTimeService"/>

    <bean id="scheduledJobDescriptor" parent="scheduledJobDescriptor-parentBean" abstract="true"/>
    <bean id="scheduledJobDescriptor-parentBean" abstract="true" class="org.kuali.kfs.sys.batch.JobDescriptor"
          p:group="scheduled"/>

    <bean id="unscheduledJobDescriptor" parent="unscheduledJobDescriptor-parentBean" abstract="true"/>
    <bean id="unscheduledJobDescriptor-parentBean" abstract="true" class="org.kuali.kfs.sys.batch.JobDescriptor"
          p:group="unscheduled"/>

    <bean id="flatFileSortStep" parent="step" class="org.kuali.kfs.sys.batch.FlatFileSortStep" abstract="true"/>

    <bean id="step" abstract="true" p:parameterService-ref="parameterService"
          p:dateTimeService-ref="dateTimeService"/>

    <bean id="reportAggregationStep" class="org.kuali.kfs.sys.batch.ReportAggregationStep" abstract="true" parent="step"
          p:outputFileSuffix=".txt" p:inputFilePath="${temp.directory}" p:inputFileSuffix=".txt"
          p:reportAggregatorService-ref="reportAggregatorService"/>

    <bean id="wrappedBatchExecutorService" parent="wrappedBatchExecutorService-parentBean"/>
    <bean id="wrappedBatchExecutorService-parentBean"
          class="org.kuali.kfs.sys.batch.service.impl.WrappedBatchExecutorServiceImpl" abstract="true"/>

    <bean id="wrappedStep" parent="wrappedStep-parentBean" abstract="true"/>
    <bean id="wrappedStep-parentBean" parent="step" abstract="true"
          p:wrappedBatchExecutorService-ref="wrappedBatchExecutorService"/>

    <bean id="scheduleJob" parent="scheduleJob-parentBean"/>
    <bean id="scheduleJob-parentBean" parent="scheduledJobDescriptor" abstract="true">
        <property name="steps">
            <list>
                <ref bean="scheduleStep"/>
            </list>
        </property>
    </bean>

    <bean id="scheduleStep" parent="scheduleStep-parentBean"/>
    <bean id="scheduleStep-parentBean" parent="step" class="org.kuali.kfs.sys.batch.ScheduleStep" abstract="true"
          p:schedulerService-ref="schedulerService"/>

    <bean id="trigger" abstract="true" p:group="scheduled" p:dateTimeService-ref="dateTimeService"/>

    <bean id="simpleTrigger" parent="simpleTrigger-parentBean" abstract="true"/>
    <bean id="simpleTrigger-parentBean" abstract="true" parent="trigger"
          class="org.kuali.kfs.sys.batch.SimpleTriggerDescriptor"/>

    <bean id="cronTrigger" parent="cronTrigger-parentBean" abstract="true"/>
    <bean id="cronTrigger-parentBean" abstract="true" parent="trigger"
          class="org.kuali.kfs.sys.batch.CronTriggerDescriptor"/>

    <bean id="scheduleJobTrigger" parent="scheduleJobTrigger-parentBean"/>
    <bean id="scheduleJobTrigger-parentBean" parent="cronTrigger" abstract="true" p:jobName="scheduleJob"
          p:cronExpression="${batch.schedule.cron.expression}"/>

    <bean id="batchFileAdminAuthorizationService" parent="batchFileAdminAuthorizationService-parentBean"/>
    <bean id="batchFileAdminAuthorizationService-parentBean"
          class="org.kuali.kfs.sys.batch.service.BatchFileAdminAuthorizationService"
          abstract="true" p:permissionService-ref="permissionService"/>

    <bean id="batchInputFileService" parent="batchInputFileService-parentBean"/>
    <bean id="batchInputFileService-parentBean" class="org.kuali.kfs.sys.batch.service.impl.BatchInputFileServiceImpl"
          abstract="true" p:parameterService-ref="parameterService"/>

    <bean id="batchInputFileSetService" parent="batchInputFileSetService-parentBean"/>
    <bean id="batchInputFileSetService-parentBean"
          class="org.kuali.kfs.sys.batch.service.impl.BatchInputFileSetServiceImpl" abstract="true"
          p:configurationService-ref="configurationService" p:dateTimeService-ref="dateTimeService"
          p:parameterService-ref="parameterService"/>
    <!-- end batch framework -->

    <bean id="purgeOldLookupResultsStep" parent="purgeOldLookupResultsStep-parentBean"/>
    <bean id="purgeOldLookupResultsStep-parentBean" class="org.kuali.kfs.sys.batch.PurgeOldLookupResultsStep"
          parent="step" abstract="true" p:lookupResultsService-ref="lookupResultsService"/>

    <bean id="purgeJob" parent="purgeJob-parentBean"/>
    <bean id="purgeJob-parentBean" parent="scheduledJobDescriptor" abstract="true">
        <property name="steps">
            <list>
                <ref bean="purgePendingAttachmentsStep"/>
                <ref bean="purgeOldLookupResultsStep"/>
                <ref bean="purgeTempFilesStep"/>
                <ref bean="purgeSessionDocumentsStep"/>
            </list>
        </property>
    </bean>

    <bean id="purgePendingAttachmentsStep" parent="purgePendingAttachmentsStep-parentBean"/>
    <bean id="purgePendingAttachmentsStep-parentBean" class="org.kuali.kfs.sys.batch.PurgePendingAttachmentsStep"
          parent="step" abstract="true" p:attachmentService-ref="attachmentService"/>

    <bean id="purgeTempFilesStep" parent="purgeTempFilesStep-parentBean"/>
    <bean id="purgeTempFilesStep-parentBean" class="org.kuali.kfs.sys.batch.PurgeTempFilesStep" parent="step"
          abstract="true" p:configurationService-ref="configurationService"/>

    <bean id="purgeSessionDocumentsStep" parent="purgeSessionDocumentsStep-parentBean"/>
    <bean id="purgeSessionDocumentsStep-parentBean" class="org.kuali.kfs.sys.batch.PurgeSessionDocumentsStep"
          parent="step" abstract="true" p:sessionDocumentService-ref="sessionDocumentService"/>

    <bean id="fiscalYearMakerJob" parent="fiscalYearMakerJob-parentBean"/>
    <bean id="fiscalYearMakerJob-parentBean" parent="unscheduledJobDescriptor" abstract="true">
        <property name="steps">
            <list>
                <ref bean="fiscalYearMakerStep"/>
            </list>
        </property>
    </bean>

    <bean id="fiscalYearMakerStep" parent="fiscalYearMakerStep-parentBean"/>
    <bean id="fiscalYearMakerStep-parentBean" class="org.kuali.kfs.sys.batch.FiscalYearMakerStep" parent="step"
          abstract="true" p:fiscalYearMakerService-ref="fiscalYearMakerService"/>

    <bean id="purgeReportsAndStagingJob" parent="purgeReportsAndStagingJob-parentBean"/>
    <bean id="purgeReportsAndStagingJob-parentBean" parent="scheduledJobDescriptor" abstract="true">
        <property name="steps">
            <list>
                <ref bean="filePurgeStep"/>
            </list>
        </property>
    </bean>

    <bean id="filePurgeStep" parent="filePurgeStep-parentBean"/>
    <bean id="filePurgeStep-parentBean" class="org.kuali.kfs.sys.batch.FilePurgeStep" parent="step" abstract="true"
          p:filePurgeService-ref="filePurgeService">
        <property name="directories">
            <list>
                <value>${reports.directory}</value>
                <value>${staging.directory}</value>
                <value>${temp.directory}</value>
            </list>
        </property>
        <property name="customAges">
            <list>
                <bean parent="FilePurgeCustomAge" p:parameterPrefix="TEMPORARY_FILES"
                      p:directory="${temp.directory}"/>
            </list>
        </property>
    </bean>

    <bean id="autoDisapproveJob" parent="autoDisapproveJob-parentBean"/>
    <bean id="autoDisapproveJob-parentBean" parent="scheduledJobDescriptor" abstract="true">
        <property name="steps">
            <list>
                <ref bean="autoDisapproveDocumentsStep"/>
            </list>
        </property>
    </bean>

    <bean id="autoDisapproveDocumentsStep" parent="autoDisapproveDocumentsStep-parentBean"/>
    <bean id="autoDisapproveDocumentsStep-parentBean" class="org.kuali.kfs.sys.batch.AutoDisapproveDocumentsStep"
          parent="wrappedStep" abstract="true" p:autoDisapproveDocumentsService-ref="autoDisapproveService">
        <property name="wrappingBatchServices">
            <list>
                <ref bean="autoDisapproveErrorReportWriterService"/>
            </list>
        </property>
    </bean>

    <bean id="autoDisapproveService" parent="autoDisapproveService-parentBean"/>
    <bean id="autoDisapproveService-parentBean"
          class="org.kuali.kfs.sys.batch.service.impl.AutoDisapproveDocumentsServiceImpl" abstract="true"
          p:documentService-ref="documentService" p:parameterService-ref="parameterService"
          p:dateTimeService-ref="dateTimeService" p:noteService-ref="noteService"
          p:autoDisapproveErrorReportWriterService-ref="autoDisapproveErrorReportWriterService"
          p:financialSystemDocumentService-ref="financialSystemDocumentService"
          p:workflowDocumentService-ref="workflowDocumentService" p:personService-ref="personService"
          p:documentTypeService-ref="documentTypeService"/>

    <bean id="autoDisapproveErrorReportWriterService" parent="autoDisapproveErrorReportWriterService-parentBean"/>
    <bean id="autoDisapproveErrorReportWriterService-parentBean" abstract="true" parent="reportWriterService"
          p:filePath="${reports.directory}/sys" p:fileNamePrefix="autoDisapproveErrors"
          p:title="YEAR END AUTO DISAPPROVAL JOB ERRORS REPORT" p:aggregationModeOn="false"/>

    <bean id="bulkReindexDocsService" parent="bulkReindexDocsService-parentBean"/>
    <bean id="bulkReindexDocsService-parentBean" class="org.kuali.kfs.sys.batch.service.impl.BulkReindexDocsServiceImpl"
          abstract="true"
          p:businessObjectService-ref="businessObjectService"
          p:parameterService-ref="parameterService"/>

    <bean id="bulkReindexDocsStep" class="org.kuali.kfs.sys.batch.BulkReindexDocsStep" parent="step"
          p:bulkReindexDocsService-ref="bulkReindexDocsService"/>

    <bean id="bulkReindexDocsJob" parent="unscheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="bulkReindexDocsStep"/>
            </list>
        </property>
    </bean>

    <bean id="clearCacheStep" class="org.kuali.kfs.sys.batch.ClearCacheStep" parent="step"
          p:cacheService-ref="cacheService"/>

    <bean id="clearCacheJob" parent="unscheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="clearCacheStep"/>
            </list>
        </property>
    </bean>

    <!-- end core batch jobs -->
    <bean id="FilePurgeCustomAge" parent="FilePurgeCustomAge-parentBean"/>
    <bean id="FilePurgeCustomAge-parentBean" class="org.kuali.kfs.sys.batch.FilePurgeCustomAge" abstract="true"/>

    <bean id="financialSystemUserService" parent="financialSystemUserService-parentBean"/>
    <bean id="financialSystemUserService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.service.impl.FinancialSystemUserServiceImpl" p:chartService-ref="chartService"
          p:organizationService-ref="organizationService" p:roleService-ref="roleService"
          p:personService-ref="personService"/>

    <bean id="universityDateDao" parent="universityDateDao-parentBean"/>
    <bean id="universityDateDao-parentBean" parent="platformAwareDao"
          class="org.kuali.kfs.sys.dataaccess.impl.UniversityDateDaoOjb" abstract="true"/>

    <bean id="universityDateService" parent="universityDateService-parentBean"/>
    <bean id="universityDateService-parentBean" class="org.kuali.kfs.sys.service.impl.UniversityDateServiceImpl"
          abstract="true" p:universityDateDao-ref="universityDateDao" p:dateTimeService-ref="dateTimeService"
          p:businessObjectService-ref="businessObjectService"/>

    <bean id="accountingLineService" parent="accountingLineService-parentBean"/>
    <bean id="accountingLineService-parentBean" class="org.kuali.kfs.sys.service.impl.AccountingLineServiceImpl"
          abstract="true">
        <property name="accountingLineDao">
            <bean parent="platformAwareDao" class="org.kuali.kfs.sys.dataaccess.impl.AccountingLineDaoOjb"/>
        </property>
    </bean>

    <bean id="originationCodeDao" parent="originationCodeDao-parentBean"/>
    <bean id="originationCodeDao-parentBean" parent="platformAwareDao"
          class="org.kuali.kfs.sys.dataaccess.impl.OriginationCodeDaoOjb" abstract="true"/>

    <bean id="generalLedgerPendingEntryDao" parent="generalLedgerPendingEntryDao-parentBean"/>
    <bean id="generalLedgerPendingEntryDao-parentBean" parent="platformAwareDao"
          class="org.kuali.kfs.sys.dataaccess.impl.GeneralLedgerPendingEntryDaoOjb" abstract="true"
          p:balanceTypeDao-ref="balanceTypeDao"/>

    <bean id="fiscalYearMakersDao" parent="fiscalYearMakersDao-parentBean"/>
    <bean id="fiscalYearMakersDao-parentBean" parent="platformAwareDao"
          class="org.kuali.kfs.sys.batch.dataaccess.impl.FiscalYearMakersDaoOjb" abstract="true"/>

    <bean id="fiscalYearMakerService" parent="fiscalYearMakerService-parentBean"/>
    <bean id="fiscalYearMakerService-parentBean"
          class="org.kuali.kfs.sys.batch.service.impl.FiscalYearMakerServiceImpl"
          abstract="true" p:fiscalYearMakersDao-ref="fiscalYearMakersDao" p:parameterService-ref="parameterService"
          p:kualiModuleService-ref="kualiModuleService"/>

    <bean id="FiscalYearMaker" parent="FiscalYearMaker-parentBean" abstract="true"/>
    <bean id="FiscalYearMaker-parentBean" parent="platformAwareDao"
          class="org.kuali.kfs.sys.batch.dataaccess.impl.FiscalYearMakerImpl" abstract="true"
          p:persistenceStructureService-ref="persistenceStructureService"
          p:businessObjectService-ref="businessObjectService"/>

    <bean id="homeOriginationService" parent="homeOriginationService-parentBean"/>
    <bean id="homeOriginationService-parentBean" class="org.kuali.kfs.sys.service.impl.HomeOriginationServiceImpl"
          abstract="true" p:businessObjectService-ref="businessObjectService"/>

    <bean id="originationCodeService" parent="originationCodeService-parentBean"/>
    <bean id="originationCodeService-parentBean" class="org.kuali.kfs.sys.service.impl.OriginationCodeServiceImpl"
          abstract="true" p:originationCodeDao-ref="originationCodeDao"/>

    <bean id="optionsService" parent="optionsService-parentBean"/>
    <bean id="optionsService-parentBean" class="org.kuali.kfs.sys.service.impl.OptionsServiceImpl" abstract="true"
          p:businessObjectService-ref="businessObjectService" p:universityDateService-ref="universityDateService"/>

    <bean id="generalLedgerPendingEntryService" parent="generalLedgerPendingEntryService-parentBean"/>
    <bean id="generalLedgerPendingEntryService-parentBean"
          class="org.kuali.kfs.sys.service.impl.GeneralLedgerPendingEntryServiceImpl" abstract="true"
          p:generalLedgerPendingEntryDao-ref="generalLedgerPendingEntryDao" p:kualiRuleService-ref="kualiRuleService"
          p:chartService-ref="chartService" p:optionsService-ref="optionsService"
          p:parameterService-ref="parameterService" p:balanceTypeService-ref="balanceTypService"
          p:dateTimeService-ref="dateTimeService" p:dataDictionaryService-ref="dataDictionaryService"
          p:universityDateService-ref="universityDateService"
          p:persistenceStructureService-ref="persistenceStructureService" p:accountService-ref="accountService"
          p:sufficientFundsService-ref="sufficientFundsService"
          p:flexibleOffsetAccountService-ref="flexibleOffsetAccountService"
          p:offsetDefinitionService-ref="offsetDefinitionService" p:objectTypeService-ref="objectTypeService"
          p:businessObjectService-ref="businessObjectService" p:homeOriginationService-ref="homeOriginationService"
          p:objectCodeService-ref="objectCodeService"
          p:parameterEvaluatorService-ref="parameterEvaluatorService"
    />

    <bean id="taxService" parent="taxService-parentBean"/>
    <bean id="taxService-parentBean" class="org.kuali.kfs.sys.service.impl.TaxServiceImpl" abstract="true"
          p:taxRegionService-ref="taxRegionService" p:parameterService-ref="parameterService"/>

    <bean id="taxRegionService" parent="taxRegionService-parentBean"/>
    <bean id="taxRegionService-parentBean" class="org.kuali.kfs.sys.service.impl.TaxRegionServiceImpl" abstract="true"
          p:businessObjectService-ref="businessObjectService" p:locationService-ref="locationService-fin"/>

    <bean id="financialSystemWorkflowHelperService" parent="financialSystemWorkflowHelperService-parentBean"/>
    <bean id="financialSystemWorkflowHelperService-parentBean"
          class="org.kuali.kfs.sys.service.impl.FinancialSystemWorkflowHelperServiceImpl" abstract="true"
          p:workflowDocumentService-ref="workflowDocumentService"/>

    <bean id="businessObjectMetaDataDao" parent="businessObjectMetaDataDao-parentBean"/>
    <bean id="businessObjectMetaDataDao-parentBean"
          class="org.kuali.kfs.sys.dataaccess.impl.BusinessObjectMetaDataDaoJdbc" parent="platformAwareDaoJdbc"
          abstract="true"/>

    <bean id="accountingDocumentRuleHelperService" parent="accountingDocumentRuleHelperService-parentBean"/>
    <bean id="accountingDocumentRuleHelperService-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.AccountingDocumentRuleHelperServiceImpl" abstract="true"
          p:configurationService-ref="configurationService" p:dataDictionaryService-ref="dataDictionaryService"
          p:dateTimeService-ref="dateTimeService" p:objectCodeService-ref="objectCodeService"
          p:objectTypeService-ref="objectTypeService"/>

    <bean id="debitDeterminerService" parent="debitDeterminerService-parentBean"/>
    <bean id="debitDeterminerService-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.DebitDeterminerServiceImpl" abstract="true"
          p:optionsService-ref="optionsService"
          p:accountingDocumentRuleUtils-ref="accountingDocumentRuleHelperService"/>

    <bean id="accountingLineRuleHelperService" parent="accountingLineRuleHelperService-parentBean"/>
    <bean id="accountingLineRuleHelperService-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.AccountingLineRuleHelperServiceImpl" abstract="true"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"
          p:dataDictionaryService-ref="dataDictionaryService"
          p:financialSystemDocumentTypeService-ref="financialSystemDocumentTypeService"
          p:accountService-ref="accountService" p:configurationService-ref="configurationService"/>

    <bean id="financialSystemDocumentTypeService" parent="financialSystemDocumentTypeService-parentBean"/>
    <bean id="financialSystemDocumentTypeService-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.FinancialSystemDocumentTypeServiceImpl" abstract="true"
          p:dataDictionaryService-ref="dataDictionaryService"
          p:maintenanceDocumentDictionaryService-ref="maintenanceDocumentDictionaryService"
          p:documentTypeService-ref="documentTypeService"/>

    <bean id="electronicPaymentClaimingService" parent="electronicPaymentClaimingService-parentBean"/>
    <bean id="electronicPaymentClaimingService-parentBean"
          class="org.kuali.kfs.sys.service.impl.ElectronicPaymentClaimingServiceImpl" abstract="true"
          p:businessObjectService-ref="businessObjectService" p:dateTimeService-ref="dateTimeService"
          p:parameterService-ref="parameterService"
          p:accountsReceivableModuleService-ref="accountsReceivableModuleService"
          p:permissionService-ref="permissionService"
          p:parameterEvaluatorService-ref="parameterEvaluatorService"/>

    <bean id="electronicFundTransferStartAction" parent="electronicFundTransferStartAction-parentBean"/>
    <bean id="electronicFundTransferStartAction-parentBean"
          class="org.kuali.kfs.sys.service.impl.ElectronicFundTransferStartActionHelper" abstract="true"/>

    <bean id="electronicFundTransferRefreshAction" parent="electronicFundTransferRefreshAction-parentBean"/>
    <bean id="electronicFundTransferRefreshAction-parentBean"
          class="org.kuali.kfs.sys.service.impl.ElectronicFundTransferRefreshActionHelper" abstract="true"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"
          p:lookupResultsService-ref="lookupResultsService"/>

    <bean id="electronicFundTransferClaimAction" parent="electronicFundTransferClaimAction-parentBean"/>
    <bean id="electronicFundTransferClaimAction-parentBean"
          class="org.kuali.kfs.sys.service.impl.ElectronicFundTransferClaimActionHelper" abstract="true"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"
          p:electronicPaymentClaimingService-ref="electronicPaymentClaimingService"
          p:businessObjectService-ref="businessObjectService" p:universityDateService-ref="universityDateService"/>

    <bean id="electronicFundTransferCancelAction" parent="electronicFundTransferCancelAction-parentBean"/>
    <bean id="electronicFundTransferCancelAction-parentBean"
          class="org.kuali.kfs.sys.service.impl.ElectronicFundTransferCancelActionHelper" abstract="true"/>

    <bean id="electronicPaymentClaimLookupableHelperService"
          parent="electronicPaymentClaimLookupableHelperService-parentBean" scope="prototype"/>

    <bean id="electronicPaymentClaimLookupableHelperService-parentBean"
          class="org.kuali.kfs.sys.businessobject.lookup.ElectronicPaymentClaimLookupableHelperServiceImpl"
          scope="prototype" parent="lookupableHelperService" abstract="true" p:lookupDao-ref="lookupDao"/>

    <bean id="electronicPaymentClaimLookupable" class="org.kuali.kfs.kns.lookup.KualiLookupableImpl" scope="prototype"
          p:lookupableHelperService-ref="electronicPaymentClaimLookupableHelperService"/>

    <bean id="projectCodeLookupable"
          class="org.kuali.kfs.kns.lookup.KualiLookupableImpl"
          scope="prototype"
          p:lookupableHelperService-ref="projectCodeLookupableHelperService" />

    <bean id="projectCodeLookupableHelperService"
          class="org.kuali.kfs.coa.businessobject.lookup.ProjectCodeLookupableHelperServiceImpl"
          scope="prototype"
          parent="lookupableHelperService"
          p:identityService-ref="identityService" />

    <bean id="reportGenerationService" parent="reportGenerationService-parentBean"/>
    <bean id="reportGenerationService-parentBean" class="org.kuali.kfs.sys.service.impl.ReportGenerationServiceImpl"
          abstract="true" p:dateTimeService-ref="dateTimeService" p:fileStorageService-ref="fileStorageService"/>

    <bean id="reportAggregatorService" parent="reportAggregatorService-parentBean"/>
    <bean id="reportAggregatorService-parentBean"
          class="org.kuali.kfs.sys.service.impl.ReportAggregatorServiceTextImpl"
          abstract="true" p:newLineCharacter="${report.writer.service.new.line.characters}"/>

    <bean id="accountingLineAuthorizationTransformer" parent="accountingLineAuthorizationTransformer-parentBean"/>
    <bean id="accountingLineAuthorizationTransformer-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.AccountingLineAuthorizationTransformerImpl" abstract="true"/>

    <bean id="allReadOnlyNoActionsAccountingLineRenderingTransformation"
          parent="allReadOnlyNoActionsAccountingLineRenderingTransformation-parentBean"/>
    <bean id="allReadOnlyNoActionsAccountingLineRenderingTransformation-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.AllReadOnlyNoActionsAccountingLineRenderingTransformationImpl"
          abstract="true"/>

    <bean id="defaultValuePopulationAccountingLineFieldRenderingTransformation"
          parent="defaultValuePopulationAccountingLineFieldRenderingTransformation-parentBean"/>
    <bean id="defaultValuePopulationAccountingLineFieldRenderingTransformation-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.DefaultValuePopulationAccountingLineFieldRenderingTransformationImpl"
          abstract="true"/>

    <bean id="hiddenFieldRearrangementAccountingLineRenderingTransformation"
          parent="hiddenFieldRearrangementAccountingLineRenderingTransformation-parentBean"/>
    <bean id="hiddenFieldRearrangementAccountingLineRenderingTransformation-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.HiddenFieldRearrangementAccountingLineRenderingTransformationImpl"
          abstract="true"/>

    <bean id="removeEmptyCellsAndRowsRenderingTransformation"
          parent="removeEmptyCellsAndRowsRenderingTransformation-parentBean"/>
    <bean id="removeEmptyCellsAndRowsRenderingTransformation-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.RemoveEmptyCellsAndRowsRenderingTransformationImpl"
          abstract="true"/>

    <bean id="accountingLineRenderingService" parent="accountingLineRenderingService-parentBean"/>
    <bean id="accountingLineRenderingService-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.AccountingLineRenderingServiceImpl" abstract="true"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"
          p:dataDictionaryService-ref="dataDictionaryService" p:documentHelperService-ref="documentHelperService"
          p:accountingLineAuthorizationTransformer-ref="accountingLineAuthorizationTransformer">
        <property name="fieldTransformations">
            <list>
                <ref bean="defaultValuePopulationAccountingLineFieldRenderingTransformation"/>
            </list>
        </property>
        <property name="preTablificationTransformations">
            <list>
                <ref bean="allReadOnlyNoActionsAccountingLineRenderingTransformation"/>
            </list>
        </property>
        <property name="postTablificationTransformations">
            <list>
                <ref bean="hiddenFieldRearrangementAccountingLineRenderingTransformation"/>
                <ref bean="removeEmptyCellsAndRowsRenderingTransformation"/>
            </list>
        </property>
    </bean>

    <bean id="bankService" parent="bankService-parentBean"/>
    <bean id="bankService-parentBean" class="org.kuali.kfs.sys.service.impl.BankServiceImpl" abstract="true"
          p:businessObjectService-ref="businessObjectService" p:dataDictionaryService-ref="dataDictionaryService"
          p:parameterService-ref="parameterService" p:parameterEvaluatorService-ref="parameterEvaluatorService"/>

    <bean id="postalCodeValidationService" parent="postalCodeValidationService-parentBean"/>
    <bean id="postalCodeValidationService-parentBean"
          class="org.kuali.kfs.sys.service.impl.PostalCodeValidationServiceImpl" abstract="true"
          p:locationService-ref="locationService-fin"/>

    <bean id="segmentedLookupResultsService" parent="segmentedLookupResultsService-parentBean"/>
    <bean id="segmentedLookupResultsService-parentBean"
          class="org.kuali.kfs.sys.service.impl.SegmentedLookupResultsServiceImpl" abstract="true"
          p:businessObjectService-ref="businessObjectService" p:dateTimeService-ref="dateTimeService"/>

    <bean id="objectCodeDynamicNameLabelGenerator" parent="objectCodeDynamicNameLabelGenerator-parentBean"/>
    <bean id="objectCodeDynamicNameLabelGenerator-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.ObjectCodeDynamicNameLabelGeneratorImpl" abstract="true"/>

    <bean id="subObjectCodeDynamicNameLabelGenerator" parent="subObjectCodeDynamicNameLabelGenerator-parentBean"/>
    <bean id="subObjectCodeDynamicNameLabelGenerator-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.SubObjectCodeDynamicNameLabelGeneratorImpl" abstract="true"/>

    <bean id="systemOptionsFiscalYearMaker"
          class="org.kuali.kfs.sys.batch.dataaccess.impl.SystemOptionsFiscalYearMakerImpl" parent="FiscalYearMaker"
          p:businessObjectClass="org.kuali.kfs.sys.businessobject.SystemOptions" p:twoYearCopy="true"/>

    <import resource="document/validation/configuration/FinancialSystemValidators.xml"/>

    <bean id="defaultRoleTypeService" parent="defaultRoleTypeService-parentBean"/>
    <bean id="defaultRoleTypeService-parentBean" class="org.kuali.kfs.sys.identity.DefaultRoleTypeServiceImpl"
          abstract="true" parent="kimRoleTypeService"/>

    <bean id="employeeDerivedRoleTypeService" parent="employeeDerivedRoleTypeService-parentBean"/>
    <bean id="employeeDerivedRoleTypeService-parentBean"
          class="org.kuali.kfs.sys.identity.EmployeeDerivedRoleTypeServiceImpl" abstract="true"
          parent="kimNoMembersRoleTypeService"/>

    <bean id="paymentMethodRoleTypeService" parent="paymentMethodRoleTypeService-parentBean"/>
    <bean id="paymentMethodRoleTypeService-parentBean"
          class="org.kuali.kfs.sys.identity.PaymentMethodRoleTypeServiceImpl" abstract="true"
          parent="kimRoleTypeService"/>

    <bean id="batchJobModifierRoleTypeService" parent="batchJobModifierRoleTypeService-parentBean"/>
    <bean id="batchJobModifierRoleTypeService-parentBean"
          class="org.kuali.kfs.krad.kim.PermissionDerivedRoleTypeServiceImpl" abstract="true"
          parent="kimNoMembersRoleTypeService"
          p:permissionTemplateNamespace="KFS-SYS" p:permissionTemplateName="Modify Batch Job"/>

    <bean id="financialSystemDocumentTypePermissionTypeService"
          parent="financialSystemDocumentTypePermissionTypeService-parentBean"/>
    <bean id="financialSystemDocumentTypePermissionTypeService-parentBean"
          class="org.kuali.kfs.sys.identity.FinancialSystemDocumentTypePermissionTypeServiceImpl" abstract="true"
          parent="documentTypePermissionTypeService"/>

    <bean id="financialSystemDocumentTypeAndExistingRecordsOnlyPermissionTypeService"
          parent="financialSystemDocumentTypeAndExistingRecordsOnlyPermissionTypeService-parentBean"/>
    <bean id="financialSystemDocumentTypeAndExistingRecordsOnlyPermissionTypeService-parentBean"
          class="org.kuali.kfs.sys.identity.FinancialSystemDocumentTypeAndExistingRecordsOnlyPermissionTypeServiceImpl"
          abstract="true" parent="documentTypePermissionTypeService"/>

    <bean id="financialSystemUserRoleTypeService" parent="financialSystemUserRoleTypeService-parentBean"/>
    <bean id="financialSystemUserRoleTypeService-parentBean"
          class="org.kuali.kfs.coa.identity.FinancialSystemUserRoleTypeServiceImpl" abstract="true"
          parent="kimRoleTypeService"/>

    <bean id="campusRoleService" class="org.kuali.kfs.sys.identity.CampusRoleTypeServiceImpl"
          parent="kimRoleTypeService"/>


    <bean id="universityDateFiscalYearMaker"
          class="org.kuali.kfs.sys.batch.dataaccess.impl.UniversityDateFiscalYearMakerImpl" parent="FiscalYearMaker"
          p:businessObjectClass="org.kuali.kfs.sys.businessobject.UniversityDate" p:twoYearCopy="true"
          p:parameterService-ref="parameterService" p:allowOverrideTargetYear="false"/>

    <bean id="expenseElectronicPaymentClaimingDocumentHelper"
          parent="expenseElectronicPaymentClaimingDocumentHelper-parentBean"/>
    <bean id="expenseElectronicPaymentClaimingDocumentHelper-parentBean"
          class="org.kuali.kfs.sys.service.impl.ElectronicPaymentClaimingDocumentGenerationStrategyImpl"
          abstract="true" p:electronicPaymentClaimingService-ref="electronicPaymentClaimingService"/>

    <bean id="cacheService" parent="cacheService-parentBean"/>
    <bean id="cacheService-parentBean" class="org.kuali.kfs.sys.batch.service.impl.CacheServiceImpl" abstract="true"/>

    <bean id="preparedStatementCachingDao" parent="platformAwareDaoJdbc" abstract="true"/>

    <bean id="businessObjectReportHelper" abstract="true" class="org.kuali.kfs.sys.report.BusinessObjectReportHelper"
          p:minimumMessageLength="10" p:messageLabel="MESSAGE" p:dataDictionaryService-ref="dataDictionaryService"/>

    <bean id="reportWriterService" parent="reportWriterService-parentBean"/>
    <bean id="reportWriterService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.service.impl.ReportWriterTextServiceImpl" p:fileNameSuffix=".txt" p:pageWidth="130"
          p:pageLength="57" p:initialPageNumber="1" p:errorSubTitle="ERROR AND STATISTICS REPORT"
          p:statisticsLabel="                                    S T A T I S T I C S                                    "
          p:statisticsLeftPadding="                             "
          p:parametersLabel="                                    P A R A M E T E R S                                    "
          p:parametersLeftPadding="                             " p:pageLabel="PAGE:"
          p:newLineCharacter="${report.writer.service.new.line.characters}" p:dateTimeService-ref="dateTimeService"/>

    <bean id="systemLedgerReferenceValuePreparedStatementCachingDao" parent="preparedStatementCachingDao"
          class="org.kuali.kfs.sys.batch.dataaccess.impl.LedgerReferenceValuePreparedStatementCachingDaoJdbc"/>

    <bean id="filePurgeService" parent="filePurgeService-parentBean"/>
    <bean id="filePurgeService-parentBean" class="org.kuali.kfs.sys.batch.service.impl.FilePurgeServiceImpl"
          abstract="true" p:parameterService-ref="parameterService"/>

    <bean id="financialSystemDocumentDao" parent="financialSystemDocumentDao-parentBean"/>
    <bean id="financialSystemDocumentDao-parentBean" abstract="true" parent="platformAwareDao"
          class="org.kuali.kfs.sys.document.dataaccess.impl.FinancialSystemDocumentDaoOjb"/>

    <bean id="financialSystemDocumentService" parent="financialSystemDocumentService-parentBean"/>
    <bean id="financialSystemDocumentService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.document.service.impl.FinancialSystemDocumentServiceImpl"
          p:documentService-ref="documentService" p:documentAdHocService-ref="documentAdHocService"
          p:parameterService-ref="parameterService" p:financialSystemDocumentDao-ref="financialSystemDocumentDao"
          p:financialSystemDocumentHeaderDao-ref="documentHeaderDao"
          p:businessObjectService-ref="businessObjectService"/>

    <!-- Create an unscheduled Daily Mail job -->
    <bean id="dailyEmailJob" parent="unscheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="dailyEmailStep"/>
            </list>
        </property>
    </bean>

    <bean id="dailyEmailStep" class="org.kuali.kfs.sys.batch.DailyEmailStep" parent="step"
          p:actionListEmailService-ref="actionListEmailService"
    />

    <!-- Create an unscheduled Weekly Mail job -->
    <bean id="weeklyEmailJob" parent="unscheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="weeklyEmailStep"/>
            </list>
        </property>
    </bean>

    <bean id="weeklyEmailStep" class="org.kuali.kfs.sys.batch.WeeklyEmailStep" parent="step"
          p:actionListEmailService-ref="actionListEmailService"
    />
    <bean id="modulesLockJob" parent="modulesLockJob-parentBean"/>
    <bean id="modulesLockJob-parentBean" parent="unscheduledJobDescriptor" abstract="true">
        <property name="steps">
            <list>
                <ref bean="lockARModuleStep"/>
                <ref bean="lockLDModuleStep"/>
                <ref bean="lockGLModuleStep"/>
                <ref bean="lockCOAModuleStep"/>
                <ref bean="lockCAMModuleStep"/>
                <ref bean="lockPURAPModuleStep"/>
                <ref bean="lockSYSModuleStep"/>
                <ref bean="lockVNDModuleStep"/>
                <ref bean="lockFPModuleStep"/>
                <ref bean="lockECModuleStep"/>
                <ref bean="lockPDPModuleStep"/>
                <ref bean="lockCGModuleStep"/>
            </list>
        </property>
    </bean>

    <bean id="lockARModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-AR"/>
    <bean id="lockLDModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-LD"/>
    <bean id="lockGLModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-GL"/>
    <bean id="lockCOAModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-COA"/>
    <bean id="lockCAMModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-CAM"/>
    <bean id="lockPURAPModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-PURAP"/>
    <bean id="lockSYSModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-SYS"/>
    <bean id="lockVNDModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-VND"/>
    <bean id="lockFPModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-FP"/>
    <bean id="lockECModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-EC"/>
    <bean id="lockPDPModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-PDP"/>
    <bean id="lockCGModuleStep" parent="lockModuleStep" p:namespaceCode="KFS-CG"/>

    <bean id="modulesUnlockJob" parent="modulesUnlockJob-parentBean"/>
    <bean id="modulesUnlockJob-parentBean" parent="unscheduledJobDescriptor" abstract="true">
        <property name="steps">
            <list>
                <ref bean="unlockARModuleStep"/>
                <ref bean="unlockLDModuleStep"/>
                <ref bean="unlockGLModuleStep"/>
                <ref bean="unlockCOAModuleStep"/>
                <ref bean="unlockCAMModuleStep"/>
                <ref bean="unlockPURAPModuleStep"/>
                <ref bean="unlockSYSModuleStep"/>
                <ref bean="unlockVNDModuleStep"/>
                <ref bean="unlockFPModuleStep"/>
                <ref bean="unlockECModuleStep"/>
                <ref bean="unlockPDPModuleStep"/>
                <ref bean="unlockCGModuleStep"/>
            </list>
        </property>
    </bean>

    <bean id="unlockARModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-AR"/>
    <bean id="unlockLDModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-LD"/>
    <bean id="unlockGLModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-GL"/>
    <bean id="unlockCOAModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-COA"/>
    <bean id="unlockCAMModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-CAM"/>
    <bean id="unlockPURAPModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-PURAP"/>
    <bean id="unlockSYSModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-SYS"/>
    <bean id="unlockVNDModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-VND"/>
    <bean id="unlockFPModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-FP"/>
    <bean id="unlockECModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-EC"/>
    <bean id="unlockPDPModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-PDP"/>
    <bean id="unlockCGModuleStep" parent="unlockModuleStep" p:namespaceCode="KFS-CG"/>

    <bean id="lockModuleStep" class="org.kuali.kfs.sys.batch.LockModuleStep" parent="step"
          p:lockModuleService-ref="lockModuleService" p:lockModule="true"/>

    <bean id="unlockModuleStep" class="org.kuali.kfs.sys.batch.LockModuleStep" parent="step"
          p:lockModuleService-ref="lockModuleService" p:lockModule="false"/>

    <bean id="lockModuleService" parent="lockModuleService-parentBean"/>
    <bean id="lockModuleService-parentBean" class="org.kuali.kfs.sys.batch.service.impl.LockModuleServiceImpl"
          abstract="true" p:businessObjectService-ref="businessObjectService"
          p:parameterService-ref="parameterService"/>

    <bean id="FlatFileParser" abstract="true" class="org.kuali.kfs.sys.batch.FlatFileParserBase"
          p:dateTimeService-ref="dateTimeService"/>

    <bean id="FlatFileParseTracker" class="org.kuali.kfs.sys.batch.FlatFileParseTrackerImpl" scope="prototype"/>

    <bean id="FlatFilePrefixObjectSpecification" abstract="true"
          class="org.kuali.kfs.sys.batch.FlatFilePrefixObjectSpecification"/>

    <bean id="FlatFileRegexObjectSpecification" abstract="true"
          class="org.kuali.kfs.sys.batch.FlatFileRegexObjectSpecification"/>

    <bean id="FixedWidthFlatFileSpecification" abstract="true"
          class="org.kuali.kfs.sys.batch.FixedWidthFlatFileSpecification"/>

    <bean id="FixedWidthFlatFilePropertySpecification" abstract="true"
          class="org.kuali.kfs.sys.batch.FixedWidthFlatFilePropertySpecification"/>

    <bean id="DelimitedFlatFileSpecification" abstract="true" parent="DelimitedFlatFileSpecification-parentbean"/>

    <bean id="DelimitedFlatFileSpecification-parentbean" abstract="true"
          class="org.kuali.kfs.sys.batch.DelimitedFlatFileSpecification"/>

    <bean id="DelimitedFlatFilePropertySpecification" abstract="true"
          class="org.kuali.kfs.sys.batch.DelimitedFlatFilePropertySpecification"/>

    <bean id="FixedWidthFlatFileRegexSpecification" abstract="true"
          class="org.kuali.kfs.sys.batch.FixedWidthFlatFileRegexSpecification"/>

    <bean id="batchContainerStep" parent="batchContainerStep-parentBean"/>
    <bean id="batchContainerStep-parentBean" abstract="true" class="org.kuali.kfs.sys.batch.BatchContainerStep"
          parent="step" p:batchContainerDirectory="${staging.directory.sys.batchContainer}"
          p:batchContainerStopStep-ref="stopBatchContainerStep"/>

    <bean id="stopBatchContainerStep" class="org.kuali.kfs.sys.batch.StopBatchContainerStep" parent="step"/>

    <bean id="initiateDirectoryBase" abstract="true" class="org.kuali.kfs.sys.batch.InitiateDirectoryBase"
          p:skipDirectoryInitiation="${skip.batch.directory.initiation}"/>

    <bean id="semaphoreInputFileTypeError" class="org.kuali.kfs.sys.batch.SemaphoreInputFileType"
          p:directoryPath="${staging.directory.sys.batchContainer}" p:fileExtension="error"
          p:fileTypeIdentifier="semaphoreInputFileTypeError"/>

    <bean id="namespaceOrFilePathPermissionTypeService" parent="namespaceOrFilePathPermissionTypeService-parentBean"/>
    <bean id="namespaceOrFilePathPermissionTypeService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.identity.NamespaceWildcardAllowedAndOrStringWildcardAllowedPermissionTypeServiceImpl"
          parent="namespacePermissionTypeService"
          p:wildcardMatchStringAttributeName="filePath" p:namespaceRequiredOnStoredAttributeSet="false"/>

    <bean id="excludeSingleActorSeparationOfDutiesRoleTypeService"
          parent="excludeSingleActorSeparationOfDutiesRoleTypeService-parentBean"/>
    <bean id="excludeSingleActorSeparationOfDutiesRoleTypeService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.identity.ExcludeSingleActorSeparationOfDutiesRoleTypeService"
          parent="kimRoleTypeService" p:workflowDocumentService-ref="workflowDocumentService"/>

    <bean id="paymentSourceExtractionService" parent="paymentSourceExtractionService-parentBean"/>
    <bean id="paymentSourceExtractionService-parentBean"
          class="org.kuali.kfs.sys.batch.service.impl.PaymentSourceExtractionServiceImpl" abstract="true"
          p:dateTimeService-ref="dateTimeService" p:customerProfileService-ref="pdpCustomerProfileService"
          p:businessObjectService-ref="businessObjectService" p:paymentFileEmailService-ref="pdpEmailService"
          p:documentService-ref="documentService"
          p:financialSystemDocumentService-ref="financialSystemDocumentService"/>

    <bean id="paymentSourceToPdpExtractStep" parent="paymentSourceToPdpExtractStep-parentBean"/>
    <bean id="paymentSourceToPdpExtractStep-parentBean" class="org.kuali.kfs.sys.batch.PaymentSourceToPdpExtractStep"
          parent="step" abstract="true"/>

    <bean id="paymentSourceHelperService" parent="paymentSourceHelpService-parentBean"/>
    <bean id="paymentSourceHelpService-parentBean"
          class="org.kuali.kfs.sys.document.service.impl.PaymentSourceHelperServiceImpl" abstract="true"
          p:universityDateService-ref="universityDateService" p:bankService-ref="bankService"
          p:generalLedgerPendingEntryService-ref="generalLedgerPendingEntryService"
          p:businessObjectService-ref="businessObjectService"
          p:accountingDocumentRuleHelperService-ref="accountingDocumentRuleHelperService"
          p:parameterService-ref="parameterService" p:configurationService-ref="configurationService"
          p:documentService-ref="documentService" p:optionsService-ref="optionsService"
          p:homeOriginationService-ref="homeOriginationService"/>

    <bean id="menuDao" parent="platformAwareDao" class="org.kuali.kfs.sys.dashboardnav.MenuDao"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"
          p:dataDictionaryService-ref="dataDictionaryService"
          p:documentDictionaryService-ref="documentDictionaryService"
          p:dashboardUtils-ref="dashboardUtils"/>

    <bean id="logoDao" parent="platformAwareDao" class="org.kuali.kfs.sys.dataaccess.InstitutionLogoDao" />

    <bean id="institutionLogoService" parent="institutionLogoService-parentBean" />
    <bean id="institutionLogoService-parentBean" abstract="true" class="org.kuali.kfs.sys.service.InstitutionLogoService"
          p:institutionLogoDao-ref="logoDao" />

    <bean id="globalNavigationPermissionRequestFilter"
          class="org.kuali.kfs.sys.rest.filter.GlobalNavigationPermissionRequestFilter"
          p:menuService-ref="menuService"/>

    <bean id="dashboardUtils" class="org.kuali.kfs.sys.dashboardnav.DashboardUtils"
          p:kualiModuleService-ref="kualiModuleService" p:configurationService-ref="configurationService" />

    <bean id="menuService" parent="menuService-parentBean"/>
    <bean id="menuService-parentBean" abstract="true" class="org.kuali.kfs.sys.service.MenuService" p:dao-ref="menuDao"
          p:permissionService-ref="permissionService" p:documentDictionaryService-ref="documentDictionaryService"
          p:documentTypeService-ref="documentTypeService" p:cacheManagerRegistry-ref="kfs.core.cacheManagerRegistry"
          p:configurationService-ref="configurationService" p:institutionLogoDao-ref="logoDao"
          p:reportsService-ref="reportsService"/>

    <bean id="payeeACHService" parent="payeeACHService-parentBean"/>
    <bean id="payeeACHService-parentBean" class="org.kuali.kfs.sys.service.impl.PayeeACHServiceImpl" abstract="true"
          p:businessObjectService-ref="businessObjectService"/>

    <bean id="coreApiKeyAuthenticationService" parent="coreApiKeyAuthenticationService-parentBean"/>
    <bean id="coreApiKeyAuthenticationService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.service.impl.CoreApiKeyAuthenticationServiceImpl"
          p:configurationService-ref="configurationService"/>

    <bean id="jwtService" parent="jwtService-parentBean"/>
    <bean id="jwtService-parentBean" abstract="true" class="org.kuali.kfs.sys.service.impl.JwtServiceImpl"
          p:configurationService-ref="configurationService"/>

    <bean id="searchParameterService" parent="searchParameterService-parentBean"/>
    <bean id="searchParameterService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.rest.service.SearchParameterService"
          p:persistenceStructureService-ref="persistenceStructureService"/>

    <bean id="serializationService" parent="serializationService-parentBean"/>
    <bean id="serializationService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.rest.service.SerializationService"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"
          p:maintenanceDocumentDictionaryService-ref="maintenanceDocumentDictionaryService"
          p:persistenceStructureService-ref="persistenceStructureService"
          p:dataDictionaryService-ref="dataDictionaryService"
          p:businessObjectAuthorizationService-ref="businessObjectAuthorizationService"
          p:kualiModuleService-ref="kualiModuleService" p:configurationService-ref="configurationService"/>

    <bean id="filteredModule" abstract="true" class="org.kuali.kfs.sys.batch.DataDictionaryFilteredModule"/>
    <bean id="filteredEntity" abstract="true" class="org.kuali.kfs.sys.batch.DataDictionaryFilteredEntity"/>
    <bean id="filteredTable" abstract="true" class="org.kuali.kfs.sys.batch.DataDictionaryFilteredTable"/>
    <bean id="filteredField" abstract="true" class="org.kuali.kfs.sys.batch.DataDictionaryFilteredField"/>
    <bean id="moduleRemap" abstract="true" class="org.kuali.kfs.sys.batch.DataDictionaryModuleRemapping"/>

    <bean name="userFavoritesService" parent="userFavoritesService-parentBean"/>
    <bean name="userFavoritesService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.service.UserFavoritesService"
          p:businessObjectService-ref="businessObjectService"/>

    <bean id="batchFileDirectoryService" parent="batchFileDirectoryService-parentBean"/>
    <bean id="batchFileDirectoryService-parentBean" abstract="true"
          class="org.kuali.kfs.sys.batch.service.impl.BatchFileDirectoryServiceImpl"/>

    <bean id="businessObjectEntryConverter"
          class="org.kuali.kfs.sys.rest.provider.converter.BusinessObjectEntryConverter"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"/>

    <bean id="businessObjectClassProvider" class="org.kuali.kfs.sys.rest.provider.BusinessObjectClassProvider"
          p:businessObjectEntryConverter-ref="businessObjectEntryConverter"/>

    <bean id="businessObjectLookupJSONMessageBodyWriter"
          class="org.kuali.kfs.sys.rest.marshaller.BusinessObjectLookupJSONMessageBodyWriter"
          parent="businessObjectMessageBodyWriter"
          p:detailsUrlService-ref="detailsUrlService"/>

    <bean id="businessObjectInquiryJsonMessageBodyWriter"
          class="org.kuali.kfs.sys.rest.marshaller.BusinessObjectDetailJsonMessageBodyWriter"
          c:lookupDictionary-ref="lookupDictionary"
          c:detailsDictionary-ref="detailsDictionary"
          c:objectMapper-ref="objectMapper"
          c:detailsUrlService-ref="detailsUrlService"/>

    <bean id="businessObjectJSONMessageBodyWriter"
          class="org.kuali.kfs.sys.rest.marshaller.BusinessObjectJSONMessageBodyWriter"
          parent="businessObjectMessageBodyWriter"/>

    <bean id="businessObjectCSVMessageBodyWriter"
          class="org.kuali.kfs.sys.rest.marshaller.BusinessObjectCSVMessageBodyWriter"
          parent="businessObjectMessageBodyWriter"/>

    <bean id="businessObjectMessageBodyWriter" abstract="true"
          class="org.kuali.kfs.sys.rest.marshaller.BusinessObjectMessageBodyWriter"
          p:businessObjectDictionaryService-ref="businessObjectDictionaryService"
          p:lookupDictionary-ref="lookupDictionary"/>

    <bean id="locationService-fin" class="org.kuali.kfs.sys.service.LocationService"
          p:businessObjectService-ref="businessObjectService" p:parameterService-ref="parameterService"/>

    <bean id="objectMapper" class="com.fasterxml.jackson.databind.ObjectMapper"/>

    <bean id="adHocRoutingService" class="org.kuali.kfs.krad.service.impl.AdHocRoutingService"
          p:documentHelperService-ref="documentHelperService" p:ruleService-ref="kualiRuleService"
          p:businessObjectService-ref="businessObjectService"/>

    <bean id="superUserService" class="org.kuali.kfs.krad.service.impl.SuperUserService"
          p:workflowDocumentActionsService-ref="workflowDocumentActionsService"/>

    <bean id="reportsService" class="org.kuali.kfs.sys.reports.ReportsService"
          p:configurationService-ref="configurationService" />

    <bean id="location.propertyPlaceholderConfigurer"
          class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
          p:properties="#{T(org.kuali.kfs.core.api.config.property.ConfigContext).getCurrentContextConfig().getProperties()}"/>

    <bean id="coreService.import.kualiModuleService"
          class="org.kuali.kfs.krad.config.GlobalResourceLoaderServiceFactoryBean"
          p:serviceName="kualiModuleService"/>

    <bean id="namespaceService" class="org.kuali.kfs.coreservice.impl.namespace.NamespaceServiceImpl"
          p:businessObjectService-ref="businessObjectService"/>

    <bean id="componentSetDao" class="org.kuali.kfs.coreservice.impl.component.ComponentSetDaoOjbImpl" lazy-init="true"
          p:jcdAlias="dataSource"/>

    <bean id="componentService" class="org.kuali.kfs.coreservice.impl.component.ComponentServiceImpl"
          p:businessObjectService-ref="businessObjectService" p:componentSetDao-ref="componentSetDao"/>

    <bean id="parameterRepositoryService" class="org.kuali.kfs.coreservice.impl.parameter.ParameterRepositoryServiceImpl"
          p:businessObjectService-ref="businessObjectService"
          p:criteriaLookupService-ref="criteriaLookupService"/>

    <bean id="taskScheduler" class="org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler"/>

    <bean id="parameterService" class="org.kuali.kfs.coreservice.impl.parameter.ParameterServiceImpl"
          p:parameterRepositoryService-ref="parameterRepositoryService"
          p:kualiModuleService-ref="kualiModuleService"
          p:taskScheduler-ref="taskScheduler"/>

    <bean id="coreImpexRegistrations" class="org.kuali.kfs.core.framework.impex.xml.XmlImpexRegistrationBean"
          p:xmlImpexRegistry-ref="xmlImpexRegistry">
    </bean>

    <bean id="transactionProxies" class="org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator">
        <property name="interceptorNames">
            <list>
                <idref bean="matchAllTxInterceptor"/>
            </list>
        </property>
        <property name="beanNames">
            <list>
                <idref bean="componentService"/>
                <idref bean="parameterRepositoryService"/>
                <idref bean="rice.ksb.messageQueueService"/>
                <idref bean="rice.ksb.exceptionMessagingService"/>
            </list>
        </property>
    </bean>

    <bean id="rice.ksb.threadPool" class="org.kuali.kfs.ksb.messaging.threadpool.KSBThreadPoolImpl"
          lazy-init="true"/>

    <bean id="rice.ksb.scheduledThreadPool"
          class="org.kuali.kfs.ksb.messaging.threadpool.KSBScheduledThreadPoolExecutor" lazy-init="true"/>

    <bean id="rice.ksb.messageHelper" class="org.kuali.kfs.ksb.messaging.MessageHelperImpl" lazy-init="true"/>

    <bean id="rice.ksb.messageQueueService" class="org.kuali.kfs.ksb.messaging.service.impl.MessageQueueServiceImpl"
          lazy-init="true" p:messageQueueDao-ref="rice.ksb.messageQueueDao"/>

    <bean id="rice.ksb.exceptionMessagingService"
          class="org.kuali.kfs.ksb.messaging.exceptionhandling.DefaultExceptionServiceImpl" lazy-init="true"
          p:scheduler-ref="scheduler"/>

    <bean id="rice.ksb.messageQueueDao" class="org.kuali.kfs.ksb.messaging.dao.impl.MessageQueueDAOOjbImpl"
          p:jcdAlias="dataSource"/>

    <bean id="rice.ksb.Constants" class="org.kuali.kfs.core.api.util.collect.ConstantsMap"
          p:constantClass="org.kuali.kfs.ksb.util.KSBConstants"/>
</beans>